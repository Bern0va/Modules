import random
from hikkatl.types import Message
from .. import loader, utils

@loader.tds
class RandomFactMod(loader.Module):
    """–ú–æ–¥—É–ª—å –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö —Ñ–∞–∫—Ç–æ–≤"""
    strings = {"name": "RandomFact"}

    def __init__(self):
        self.config = loader.ModuleConfig(
            "FACTS_DB", 
            [
                "–ö—Ä–æ–∫–æ–¥–∏–ª—ã –Ω–µ –º–æ–≥—É—Ç –≤—ã—Å–æ–≤—ã–≤–∞—Ç—å —è–∑—ã–∫.",
                "–°–µ—Ä–¥—Ü–µ –∫–∏—Ç–∞ –±—å—ë—Ç—Å—è –≤—Å–µ–≥–æ 9 —Ä–∞–∑ –≤ –º–∏–Ω—É—Ç—É.",
                "–í–µ–Ω–µ—Ä–∞ ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –ø–ª–∞–Ω–µ—Ç–∞, –≤—Ä–∞—â–∞—é—â–∞—è—Å—è –ø–æ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–µ.",
                "–ß–µ–ª–æ–≤–µ—á–µ—Å–∫–∞—è –î–ù–ö —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –î–ù–ö –±–∞–Ω–∞–Ω–∞ –Ω–∞ 50%.",
                "–û—Å—å–º–∏–Ω–æ–≥ –∏–º–µ–µ—Ç —Ç—Ä–∏ —Å–µ—Ä–¥—Ü–∞ –∏ –¥–µ–≤—è—Ç—å –º–æ–∑–≥–æ–≤."
            ],
            "–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ñ–∞–∫—Ç–æ–≤ (–º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å)"
        )

    async def factcmd(self, message: Message):
        """–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π —Ñ–∞–∫—Ç"""
        fact = random.choice(self.config["FACTS_DB"])
        await utils.answer(message, f"üîç <b>–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç:</b>\n\n{fact}")
